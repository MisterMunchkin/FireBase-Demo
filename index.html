<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Creative - Start Bootstrap Theme</title>


    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/creative.min.css" rel="stylesheet">

    <!-- CSS -->
    <link href="css/manipulate.css" rel="stylesheet">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top">

    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a id="MainHeaderLogin" class="navbar-brand page-scroll" href="#page-top">Log In</a>
                <a id="MainHeaderSignUp" class="navbar-brand page-scroll" href="#page-top" style="display: none;">Sign Up
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="page-scroll" href="#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#services">Services</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#portfolio">Portfolio</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1 id="homeHeading">Your Favorite Source of Free Bootstrap Themes</h1>
                <hr>
                <p>Start Bootstrap can help you build better websites using the Bootstrap CSS framework! Just download your template and start going, no strings attached!</p>
                <div class="form-div">
                    <div class="signIn-div" id="DivLogin">
                        <h2 class="section-heading">Login</h2>
                        <hr class="light">
                        <div class="form-group">
                            <input class="form-control" id="LoginEmail" placeholder="email address" name="txt_useremail" type="email" autofocus required>
                        </div>
                        <div class="form-group">
                            <input class="form-control" id="LoginPassword" placeholder="password" name="txt_userpassword" type="password" required>
                            <a id="forgotPassword" href="forgotpassword.html">Forgot?</a>
                        </div>
                        <div class="form-group">
                            <button id="btnLogin" class="btn btn-primary btn-xl page-scroll">
                                Login
                            </button>
                            <!--<button id="btnLogout" class="btn btn-primary btn-cl page-scroll hide">
                                Log out
                            </button>-->
                        </div>

                        <div class="form-group" id="divLoginError" style="display: none;">
                            <p id="LoginErrorAlert" aria-atomic="true" role="alert">
                                The email or password you entered does not belong to an account
                                please check your input.
                            </p>
                        </div>
                        <div class="form-group" id="divFillFields" style="display: none;">
                            <p id="FillFields" aria-atomic="true" role="alert">
                                Please fill out required fields.
                            </p>
                        </div>
                        <div class="form-group">
                            <a  id="LoginNoAccount" href="#" >Don't have an account?</a>
                        </div>
                    </div>
                </div>

                <div class="signIn-div" id="DivSignUp" style="display:none;">
                    <h2 class="section-heading">Don't have an account? Sign up</h2>
                    <hr class="light">
                    <div class="form-div">
                        <div class="signUp-div">
                            <div class="form-group">

                                <input class="form-control" id="signUpFirstName" placeholder="first name" name="txt_firstname" type="text" autofocus required>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="signUpLastName" placeholder="last name" name="txt_lastname" type="text" required>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="signUpEmail" placeholder="email address" name="txt_useremail" type="email" required>
                            </div>
                            <div class="form-group" id="signUpPasswordPadding">

                                <input class="form-control" id="signUpPassword" placeholder="password" name="txt_userpassword" type="password" required>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="signUpConfPassword" placeholder="confirm password" name="txt_userconfpassword" type="password" required>
                            </div>
                            <div class="form-group">
                                <!--<a href="#services" class="page-scroll btn btn-default btn-xl sr-button">Sign Up!</a>-->
                                <button id="btnSignup" class="btn btn-primary btn-xl page-scroll">
                                    Sign Up!
                                </button>
                            </div>
                            <div class="divErrorSignUp" id="divFillFieldsSignUp" style="display: none;">
                                <p id="FillFieldsSignUp" aria-atomic="true" role="alert">
                                    Please fill out required fields.
                                </p>
                            </div>
                            <div class="divErrorSignUp" id="divErrorConfPassword" style="display:none;">
                                <p id="PasswordConfErrorSignUp" aria-atomic="true" role="alert">
                                    Please make sure password confirmation is true.
                                </p>
                            </div>
                            <div class="divErrorSignUp" id="divPasswordLength" style="display:none;">
                                <p id="PasswordLength" aria-atomic="true" role="alert">

                                    Please make sure password is more than 8 characters.

                                </p>
                            </div>
                            <div class="form-group">
                                <a id="signUpHasAcc" href="#">Already have an account?</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section class="bg-primary" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">We've got what you need!</h2>
                    <hr class="light">
                    <p class="text-faded">Start Bootstrap has everything you need to get your new website up and running in no time! All of the templates and themes on Start Bootstrap are open source, free to download, and easy to use. No strings attached!</p>
                    <a href="#services" class="page-scroll btn btn-default btn-xl sr-button">Get Started!</a>
                </div>
            </div>
        </div>
    </section>

    <section id="services">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">At Your Service</h2>
                    <hr class="primary">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="service-box">
                        <i class="fa fa-4x fa-diamond text-primary sr-icons"></i>
                        <h3>Sturdy Templates</h3>
                        <p class="text-muted">Our templates are updated regularly so they don't break.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="service-box">
                        <i class="fa fa-4x fa-paper-plane text-primary sr-icons"></i>
                        <h3>Ready to Ship</h3>
                        <p class="text-muted">You can use this theme as is, or you can make changes!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="service-box">
                        <i class="fa fa-4x fa-newspaper-o text-primary sr-icons"></i>
                        <h3>Up to Date</h3>
                        <p class="text-muted">We update dependencies to keep things fresh.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="service-box">
                        <i class="fa fa-4x fa-heart text-primary sr-icons"></i>
                        <h3>Made with Love</h3>
                        <p class="text-muted">You have to make your websites with love these days!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="no-padding" id="portfolio">
        <div class="container-fluid">
            <div class="row no-gutter popup-gallery">
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/1.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/1.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/2.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/2.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/3.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/3.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/4.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/4.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/5.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/5.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="img/portfolio/fullsize/6.jpg" class="portfolio-box">
                        <img src="img/portfolio/thumbnails/6.jpg" class="img-responsive" alt="">
                        <div class="portfolio-box-caption">
                            <div class="portfolio-box-caption-content">
                                <div class="project-category text-faded">
                                    Category
                                </div>
                                <div class="project-name">
                                    Project Name
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <aside class="bg-dark">
        <div class="container text-center">
            <div class="call-to-action">
                <h2>Free Download at Start Bootstrap!</h2>
                <a href="http://startbootstrap.com/template-overviews/creative/" class="btn btn-default btn-xl sr-button">Download Now!</a>
            </div>
        </div>
    </aside>

    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">Let's Get In Touch!</h2>
                    <hr class="primary">
                    <p>Ready to start your next project with us? That's great! Give us a call or send us an email and we will get back to you as soon as possible!</p>
                </div>
                <div class="col-lg-4 col-lg-offset-2 text-center">
                    <i class="fa fa-phone fa-3x sr-contact"></i>
                    <p>123-456-6789</p>
                </div>
                <div class="col-lg-4 text-center">
                    <i class="fa fa-envelope-o fa-3x sr-contact"></i>
                    <p><a href="mailto:your-email@your-domain.com">feedback@startbootstrap.com</a></p>
                </div>
            </div>
        </div>
    </section>



    <pre id="object"></pre>



    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- FIRE BASE -->
    <script src="https://www.gstatic.com/firebasejs/3.7.5/firebase.js"></script>


    <script src="js/app.js"></script>

    <script>
        $(document).ready(function(){
            //Get elements

            var database = firebase.database();


            var txtLoginEmail = $('#LoginEmail');
            var txtLoginPassword = $('#LoginPassword');
            var btnLogin = $('#btnLogin');
            var btnLogout = $('#btnLogout');
            var btnLoginNoAccount = $('#LoginNoAccount');

            $('#btnLogin').click(function(e){

                if(txtLoginEmail.val() && txtLoginPassword.val()){
                    var auth = firebase.auth();
                    // sign in
                    var promise = auth.signInWithEmailAndPassword(txtLoginEmail.val(),txtLoginPassword.val());

                    promise.then(function(user){
                        //window.location.replace("HomePage.html");
                        console.log('everything went fine');
                        console.log('user object:' + user);

                    }).catch(function(error) {

                        console.log('there was an error');
                        var errorCode = error.code;
                        var errorMessage = error.message;
                        console.log(errorCode + '-' + errorMessage);

                        //alert("don't have an account?"); // change this to a better way
                        $("div#divFillFields").fadeOut("fast",function(){
                            $("div#divLoginError").fadeIn("fast");
                        });
                    });
                }else{
                    $("div#divLoginError").fadeOut("fast",function(){
                        $("div#divFillFields").fadeIn("fast");
                    });
                    if(txtLoginEmail.val() == ''){
                        $("#LoginEmail").css('border-color','red');
                    }
                    if(txtLoginPassword.val() == ''){
                        $("#LoginPassword").css('border-color','red');
                    }
                }
            });


            //$("#signUpPassword").after('<p id="passwordReq">password must have a minimum of 8 characters, atleast one letter and one number.</p>')



            //toggle between login and signup
            $("#LoginNoAccount").click(function(){
                $("div#DivLogin").toggle("fast",function(){
                        $("div#DivSignUp").toggle("fast");
                });
                $("#MainHeaderLogin").fadeOut("fast",function(){
                    $('#LoginEmail').val("");
                    $('#LoginPassword').val("");
                    $("#MainHeaderSignUp").fadeIn("fast");
                });
            });
            $("#signUpHasAcc").click(function(){
                $("div#DivLogin").toggle("fast",function(){
                    $("div#DivSignUp").toggle("fast");
                });
                $("#MainHeaderSignUp").fadeOut("fast",function(){
                    $("#signUpEmail").val("");
                    $("#signUpPassword").val("");
                    $("#signUpConfPassword").val("");
                    $("#signUpEmail")
                    $("#signUpPassword")
                    $("#signUpConfPassword")
                    $("#MainHeaderLogin").fadeIn("fast");
                });
            });

            //validate email
            function validateEmail($email){
                var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/;

                return ($email.length > 0 && emailReg.test($email));
            }
            $("#signUpEmail").keyup(function(){
                if(!validateEmail($("#signUpEmail").val())){
                    $("#signUpEmail").css('border-color', 'red');
                    $("#signUpEmail").css('border-width', '2px');
                }else{
                    $("#signUpEmail").css('border-color', 'green');
                }
            });

            //validate length of password

            function validatePassword($password){
                var passwordReg = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;

                return ($password.length > 0 && passwordReg.test($password));
            }
            $("#signUpPassword").keyup(function(){
                if(!validatePassword($("#signUpPassword").val())){

                    $("#signUpPassword").css('border-color', 'red');
                    $("#signUpPassword").css('border-width', '2px');
                }else{
                    $("#signUpPassword").css('border-color', 'green');
                }
            });

            //password confirmation
            $("#signUpConfPassword").keyup(function(){
                if($("#signUpConfPassword").val() == $("#signUpPassword").val()){
                    $("#signUpConfPassword").css('border-color','green');
                    $("#signUpConfPassword").css('border-width', '2px');
                }else{
                    $("#signUpConfPassword").css('border-color','red');
                    $("#signUpConfPassword").css('border-width', '2px');
                }
            });

            //click event for sign up
            var txtSignUpEmail = $("#signUpEmail");
            var txtSignUpPassword = $("#signUpPassword");
            var txtSignUpConfPassword = $("#signUpConfPassword");

            var txtSignUpFirstName = $("#signUpFirstName");
            var txtSignUpLastName = $("#signUpLastName");
            //NOTE: "password does not match" error does not show. instead it
            //shows "password needs to be atleast 6 characters"

            var firstTimeUserCheck = 0;

            $("#btnSignup").click(function(){
                if(txtSignUpEmail.val() && txtSignUpPassword.val() && txtSignUpConfPassword.val()){
                    if(txtSignUpPassword.val().length < 6){
                        $("div#divPasswordLength").fadeIn("fast",function(){
                            $("div#divFillFieldsSignUp").fadeOut("fast");
                            $("div#divErrorConfPassword").fadeOut("fast");
                        });
                    }else{
                        if(txtSignUpPassword.val() != txtSignUpConfPassword.val()){
                            $("div#divErrorConfPassword").fadeIn("fast",function(){
                                $("div#divFillFieldsSignUp").fadeOut("fast");
                                $("div#divPasswordLength").fadeOut("fast");
                            });
                        }else{
                            var auth = firebase.auth();
                            // sign in
                            var promise = auth.createUserWithEmailAndPassword(txtSignUpEmail.val(),txtSignUpConfPassword.val());

                            promise.then(function(user){
                                console.log('everything went fine');
                                console.log('user object:' + user);
                                //window.location.replace("HomePage.html");


                                user.sendEmailVerification().then(function(){
                                    console.log('email verification sent!');
                                }, function(error){
                                    console.log('error happened when sending email verification');
                                });
                                firstTimeUserCheck = 1;


                            }).catch(function(error) {

                                console.log('there was an error');
                                var errorCode = error.code;
                                var errorMessage = error.message;
                                console.log(errorCode + '-' + errorMessage);


                                //set a notif message error stating that email already in use
                            });


                        }
                    }
                }else{
                    $("div#divFillFieldsSignUp").fadeIn("fast",function(){
                        $("div#divErrorConfPassword").fadeOut("fast");
                        $("div#divPasswordLength").fadeOut("fast");
                    });
                }
            });

            firebase.auth().onAuthStateChanged(firebaseUser => {
                if(firebaseUser){
                    console.log(firebaseUser);


                    firebaseUser.updateProfile({
                        displayName: txtSignUpFirstName.val() + txtSignUpLastName.val()
                    }).then(function(){
                        console.log("displayName added!");
                    }, function(error){
                        console.log("displayName error!");
                    });

                    if(firstTimeUserCheck == 1){
                        firebase.database().ref('users/' + firebaseUser.uid).set({
                            firstname: txtSignUpFirstName.val(),
                            lastname: txtSignUpLastName.val(),
                            email: txtSignUpEmail.val()
                        });
                    }else{
                        console.log("welcome back!");
                    }
                    window.location.replace("HomePage.html");
                }else{
                    console.log('not logged in');

                }
            });
        });
    </script>


    <!-- jQuery -->


    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/creative.min.js"></script>

</body>

</html>
